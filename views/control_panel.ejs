<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Panel de Control</title>
    <link rel="stylesheet" href="../css/control_panel_styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

</head>
<body>
    <header>
        <div id="logo-container">
            <h1>RESIGUIDE</h1>
        </div>
        <!-- Aquí irán otros elementos del header si los necesitas -->
    </header>
    <div class="slide-panel">

      <!-- Sección de Perfil -->
      <div class="profile-section">
          <img src="/assets/icons/botsito.png" alt="Icon">
          <h2><%= admin.nombre %></h2>
          <p><%= admin.nombre_conjunto %></p>
          
      </div>
      
  
      <!-- Encabezado del Panel -->
     
  
      <!-- Sección de botones/pastillas -->
      <div class="buttons-section">
          <button class="custom-button"><span class="icon"><!-- Icono aquí --></span> Manejo de servicios</button>
          <button class="custom-button"><span class="icon"><!-- Icono aquí --></span> Manejo de noticias</button>
          <button class="custom-button"><span class="icon"><!-- Icono aquí --></span> Ajustes de cuenta</button>
          <button class="custom-button logout"><span class="icon"><!-- Icono aquí --></span> Cerrar sesión</button>
      </div>
  
      <!-- Botón para colapsar barra lateral -->
      <button class="collapse-button"><span class="icon"><!-- Icono aquí --></span> Collapse Sidebar</button>
  </div>
    <div id="panel-label">
        <p>Panel de Control</p>
      </div>
      <h1 id="control-panel-text">Control Panel</h1>

<!-- Texto Bienvenido y Nombre -->
<p id="welcome-text">
    Bienvenido <span id="admin-name"><%= admin.nombre %></span>
</p>

<!-- Texto Conjunto y Nombre del Conjunto -->
<p id="conjunto-text">
    Conjunto <span id="conjunto-name"><%= admin.nombre_conjunto %></span>
</p>

<div class="shape">
  <div id="notificationArea">
    <img src="/assets/icons/campana.png" alt="Notificaciones" class="bell-icon">
    <span id="notificationCount" class="notification-badge">0</span>
    <div id="notificationDropdown" class="dropdown">
     
    </div>
  </div>
  <div class="chat-container">
    <header>
        <!-- Retiramos el ícono del bot ya que no lo necesitas aquí -->
        <span>Chat con el Usuario</span>
        <button id="endChatBtn" class="end-chat-btn">Finalizar</button>
    </header>
    <div class="chat-messages">
        <!-- Aquí aparecerán los mensajes del chat -->
    </div>
    <div class="chat-input">
        <textarea id="chatInput" placeholder="Escribe tu mensaje..."></textarea>
        <button id="sendMessageBtn">
            <img src="/assets/icons/plane.png" alt="Enviar">
        </button>
    </div>
</div>
    <a href="/services-panel" class="no-underline">
    <div class="card" style="--card-color: #AF6251; --border-start: #FE1010; --border-end: #AF6251;">
      <div class="icon icon-services"></div>
      <p class="card-text">MANEJO DE SERVICIOS</p>
    </div>
    </a>
    <a href="/noticias" class="no-underline"> 
    <div class="card" style="--card-color: #55A47E; --border-start: #95FFC6; --border-end: #55A47E;">
      <div class="icon icon-news"></div>
      <p class="card-text">NOTICIAS MANUALES</p>
    </div>
    </a>
    <div class="card" style="--card-color: #818181; --border-start: #D9D9D9; --border-end: #818181;">
      <div class="icon icon-settings"></div>
      <p class="card-text">AJUSTES DE LA CUENTA</p>
    </div>
</div>

    <!-- Aquí irán las Card Views -->
  </div>

  


    </form>
    <div class="seccion-principal">

      <!-- Rectángulo Negro (Divisor) -->
      <div class="rectangulo-negro"></div>
  
      <!-- Título de la Sección -->
      <h2 class="titulo-seccion">Usuarios del conjunto: <%= admin.nombre_conjunto %></h2>
  
      
      
      <div class="caja-usuarios">

        <!-- Encabezados de Usuarios -->
        <div class="encabezados-usuarios">
          <div class="contenedor-filtro">
            <select id="filterStatus">
                <option value="todos">Todos</option>
                <option value="conectados">Conectados</option>
            </select>
        </div>
            <span class="encabezado">Estado</span>
            <span class="encabezado">Usuario</span>
            <span class="encabezado">E-mail</span>
            <span class="encabezado">Tipo</span>
            <span class="encabezado">Opciones</span>
        </div>
        <div class="linea-horizontal"></div>
        <div class="contenido-usuarios">
          <!-- Usuario de Ejemplo -->
          <% usuarios.forEach(usuario => { %>
            <div class="usuario" data-user-id="<%= usuario.id %>">
                <div class="estado">
                    <span class="circulo-estado circulo-desconectado"></span> <!-- Inicialmente desconectado -->
                </div>
                <div class="nombre-usuario"><%= usuario.nombre %></div>
                <div class="email-usuario"><%= usuario.email %></div>
                <div class="tipo-usuario"><%= usuario.tipo_usuario %></div>
                <a href="/admin/delete-user/<%= usuario.id %>" class="delete-user">
                  <i class="fas fa-trash"></i>
              </a>
            </div>
        <% }) %>
          <!-- Puedes duplicar este bloque para más usuarios de ejemplo -->
      </div>
    <div class="pagination">
    <div class="pagination-button prev <% if (currentPage === 1) { %> disabled <% } %>">Anterior</div>
    <div class="page-numbers">
        <% for(let i = 1; i <= totalPages; i++) { %>
            <a href="#" data-page="<%= i %>" class="page-link <%= i === currentPage ? 'active' : '' %>"><%= i %></a>
        <% } %>
    </div>
    <div class="pagination-button next <% if (currentPage === totalPages) { %> disabled <% } %>">Siguiente</div>
</div>
        <!-- Aquí continuaría el resto del contenido de la caja de usuarios -->
    </div>
      <!-- Puedes duplicar este bloque para más usuarios de ejemplo -->
  </div>
    <script>

 
    const adminId ='<%= adminId %>';

  
    </script>
 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/javascript/control_panel.js"></script>
 


    <footer>
    <p>Panel Administrativo</p>
</footer>

</body>
</html>
